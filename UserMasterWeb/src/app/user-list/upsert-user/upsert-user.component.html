<div class="card m-3 mat-elevation-z8">
    <div class="card-header text-center fw-medium">
        {{ !userId ? 'Add New User' : 'Update User Detail' }}
    </div>
    <div class="card-body">
        <form [formGroup]="userForm" autocomplete="off">
            <div class="row">
                <div class="col-sm-6">
                    <label for="userName" class="form-label">Name <span class="color-red">*</span></label>
                    <input type="text" class="form-control" id="userName" formControlName="userName">
                    <div class="color-red"
                        *ngIf="userForm.get('userName')?.touched && userForm.get('userName')?.invalid">
                        Enter User Name.
                    </div>
                </div>
                <div class="col-sm-6">
                    <label for="userPassword" class="form-label">Password <span class="color-red">*</span></label>
                    <input type="password" class="form-control" id="userPassword" formControlName="password">
                    <div class="color-red"
                        *ngIf="userForm.get('password')?.touched && userForm.get('password')?.invalid">
                        Enter User password.
                    </div>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-sm-6">
                    <label for="userDob" class="form-label">Date Of Birth <span class="color-red">*</span></label>
                    <input type="date" class="form-control" id="userDob" formControlName="dob" [max]="maxDate">
                    <div class="color-red" *ngIf="userForm.get('dob')?.touched && userForm.get('dob')?.invalid">
                        Enter Date of birth.
                    </div>
                </div>
                <div class="col-sm-6">
                    <label for="userEmail" class="form-label">Email Id <span class="color-red">*</span></label>
                    <input type="email" class="form-control" id="emailId " formControlName="emailId">
                    <div class="color-red" *ngIf="userForm.get('emailId')?.touched && userForm.get('emailId')?.invalid">
                        Enter valid Email Id.
                    </div>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-sm-12">
                    <label for="userAddress" class="form-label">Address <span class="color-red">*</span></label>
                    <textarea class="form-control" id="userAddress" placeholder="User full address"
                        formControlName="address"></textarea>
                    <div class="color-red" *ngIf="userForm.get('address')?.touched && userForm.get('address')?.invalid">
                        Enter address.
                    </div>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-sm-9">
                    <label for="userImage" class="form-label">Profile Picture <span class="color-red">*</span></label>
                    <div class="col-sm-9">
                        <input type="file" class="form-control mb-5" accept="image/*" id="userImage"
                            (change)="onFileSelected($event)">
                        <div class="color-red"
                            *ngIf="userForm.get('profilePicture')?.touched && userForm.get('profilePicture')?.invalid">
                            Upload Profile Picture.
                        </div>
                    </div>
                </div>
                <div class="col-sm-3 mt-2" *ngIf="userForm.get('profilePicture')?.value">
                    <img [src]="userForm.get('profilePicture')?.value" class="object-fit-cover border rounded"
                        style="width: 150px;height: 150px;" />
                    <div class="text-start">
                        {{userForm.get('profilePictureName')?.value}}
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="card-footer text-body-secondary text-center">
        <button mat-raised-button class="me-2" [disabled]="userForm.invalid"
            (click)="upsertUserDetails(userForm.value)">
            {{userForm.get('userId')?.value>0?'UPDATE USER':'ADD USER'}}
        </button>
        <button mat-raised-button (click)="onCancelClick()">CANCEL</button>
    </div>
</div>